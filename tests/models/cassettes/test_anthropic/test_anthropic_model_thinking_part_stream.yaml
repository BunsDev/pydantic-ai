interactions:
- request:
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '212'
      content-type:
      - application/json
      host:
      - api.anthropic.com
    method: POST
    parsed_body:
      max_tokens: 2048
      messages:
      - content:
        - text: How do I cross the street?
          type: text
        role: user
      model: claude-3-7-sonnet-latest
      stream: true
      thinking:
        budget_tokens: 1024
        type: enabled
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: |+
        event: message_start
        data: {"type":"message_start","message":{"id":"msg_01KjexrtHzmTnEa1LAy97Lb6","type":"message","role":"assistant","model":"claude-3-7-sonnet-20250219","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":42,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":9}}    }

        event: content_block_start
        data: {"type":"content_block_start","index":0,"content_block":{"type":"thinking","thinking":"","signature":""}     }

        event: ping
        data: {"type": "ping"}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"Crossing the street is a basic safety"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" skill that many people learn as children,"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" but it's still an important question since doing"}   }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" it safely can prevent accidents.\n\nI"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"'ll provide a clear, step"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"-by-step explanation of how to cross a"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" street safely:\n\n1. Find a designate"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"d crossing point if possible (crosswalk, pedest"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"rian crossing, intersection)\n2. Stop at"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" the edge of the street\n3. Look in"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" all directions for oncoming traffic (typically"}    }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" left, right, then left again in"}   }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" countries where cars drive on the right)"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"\n4. If there's a"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" pedestrian signal, wait for the \"WALK\""}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" signal\n5. Even with a walk"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" signal, check for turning vehicles\n6. Cross"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" when it's clear, walking at a steady pace"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"\n7. Continue to be aware"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" of traffic while crossing\n8. Don"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"'t use electronic devices or get"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" distracted while crossing\n\nI'll make"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" this comprehensive but straightforward."}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"signature_delta","signature":"ErUBCkYIAhgCIkDybqBMLATs8XSxwHam7hE+UafXykLhcwhwlchZqXbbhjYzku3ZovDhjzBYSOqT6VHlHvyW7vPFj4mFRrT1eVJIEgyC52poyJ1+xPKSkWcaDOO7nw/ZkmqqzD8V+yIwQ+tIRaS/Wv1p6GzSmRk7rKsexeBCwhz9V8JVzbyT4M80lAkb7UTdBYjP9wNsNBiUKh01hEXi8GGJckNWYRfwT50CGGNhdxhsTXhtkQkCfRgC"}  }

        event: content_block_stop
        data: {"type":"content_block_stop","index":0   }

        event: content_block_start
        data: {"type":"content_block_start","index":1,"content_block":{"type":"text","text":""}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"# How to Cross the Street Safely\n\n1. **Find a designated crossing point**"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" whenever possible, such as a crosswalk, intersection"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":", or pedestrian crossing.\n\n2. **"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"Stop at the curb**"} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" or edge of the road.\n\n3. **"}   }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"Look in all directions for traffic"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"**:\n   - Look left, then"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" right, then left again (in countries where traffic"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" drives on the right)\n   - Look right"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":", then left, then right again ("}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"in countries where traffic drives on the left)"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"\n\n4. **Use pedestrian signals**"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" if available:\n   - Wait"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" for the \"WALK\" signal or"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" green walking figure\n   - Don"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"'t start crossing if the signal"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" is flashing or showing \"DON'T"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" WALK\"\n\n5. **Make"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" eye contact** with nearby drivers to ensure they see"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" you.\n\n6. **Cross"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" at a steady pace** when"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" the way is clear.\n\n7. **Stay"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" alert** while crossing - continue watching"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" for traffic and don't use electronic devices"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":".\n\n8. **Use extra"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" caution** at night or in bad weather when"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" visibility is reduced.\n\nRemember"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" that traffic rules and patterns vary by country"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":", so always follow local regulations"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" and customs."}         }

        event: content_block_stop
        data: {"type":"content_block_stop","index":1 }

        event: message_delta
        data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":455}              }

        event: message_stop
        data: {"type":"message_stop"          }

    headers:
      cache-control:
      - no-cache
      connection:
      - keep-alive
      content-type:
      - text/event-stream; charset=utf-8
      transfer-encoding:
      - chunked
    status:
      code: 200
      message: OK
version: 1
...
